{% extends "dashboard/layout.html" %}

{% block title %}Dashboard{% endblock %}

{% block body %}
<header class="dashboard-header">
    <h1>Welcome, {{ user }}. You have {{ user.new_notifications.count }} Notifications</h1>
    {% include 'dashboard/components/dashboard_actions.html' %}
</header>

<main class="dashboard-container">
    <div class="grid">

        <!-- Transactions Summary -->
        <section class="card wide transaction-overview">
            <h2>Transactions Overview</h2>
            <div class="tiles">
                <div class="tile">
                    <div class="tile-number">
                        {{ sales_promos|length|add:personal_data_sheets|add:service_accreditations|add:inspection_reports|add:orders_of_payment|add:checklist_evaluation_sheets }}
                    </div>
                    <div class="tile-title">Total Applications</div>
                </div>
                <div class="tile">
                    <div class="tile-number">{{ sales_promos|length }}</div>
                    <div class="tile-title">Sales Promos</div>
                </div>
                <div class="tile">
                    <div class="tile-number">{{ personal_data_sheets|length }}</div>
                    <div class="tile-title">PDS</div>
                </div>
                <div class="tile">
                    <div class="tile-number">{{ service_accreditations|length }}</div>
                    <div class="tile-title">Service Accreditations</div>
                </div>
                <div class="tile">
                    <div class="tile-number">{{ inspection_reports|length }}</div>
                    <div class="tile-title">Inspection Reports</div>
                </div>
                <div class="tile">
                    <div class="tile-number">{{ orders_of_payment|length }}</div>
                    <div class="tile-title">Orders of Payment</div>
                </div>
                <div class="tile">
                    <div class="tile-number">{{ checklist_evaluation_sheets|length }}</div>
                    <div class="tile-title">Checklist Evaluation Sheets</div>
                </div>
            </div>
        </section>

        <!-- Cards Loop -->
        {% for section in sections %}
        <section class="card">
            <h2>{{ section.title }}</h2>
            <ul>
                {% for item in section.data %}
                    <li><a href="{% url section.url item.id %}">{{ item }}</a></li>
                {% empty %}
                    <li>No records yet.</li>
                {% endfor %}
            </ul>
        </section>
        {% endfor %}

    </div>
</main>
{% endblock %}
